## 행렬 제곱 
### 문제
```text
크기가 N*N인 행렬 A가 주어진다. 이때, A의 B제곱을 구하는 프로그램을 작성하시오. 수가 매우 커질 수 있으니, A^B의 각 원소를 1,000으로 나눈 나머지를 출력한다.
```

#### 예제
- 입력

첫째 줄에 행렬의 크기 N과 B가 주어진다. (2 ≤ N ≤  5, 1 ≤ B ≤ 100,000,000,000)

둘째 줄부터 N개의 줄에 행렬의 각 원소가 주어진다.

행렬의 각 원소는 1,000보다 작거나 같은 자연수 또는 0이다.


- 출력 

첫째 줄부터 N개의 줄에 걸쳐 행렬 A를 B제곱한 결과를 출력한다.

- 예제 입력 1

```text
2 5
1 2
3 4
```

- 예제 출력 1
 
```text
69 558
337 406
```


### 해결 방법

이전에 풀었던 [곱셈](https://www.acmicpc.net/problem/1629)을 활용하면 문제를 해결할 수 있다.

#### 분할 정복을 활용한 거듭제곱 계산

이 [문서](../1629/README.md)를 참고하여, 지수를 반으로 나누며 계산을 한다면,

`O(log 지수)` 시간에 거듭제곱 값을 구할 수 있다.

#### 행렬 곱셈

행렬 곱셈에 대해 리마인드를 가지자.

행렬 A의 크기가 m x n이고 행렬 B의 크기가 n x p일 때, 행렬 A와 B의 곱은 m x p 크기의 행렬이 된다.

만약 A의 Column 수와 B의 Row 수가 다르면 곱셈을 할 수 없다.

곱셈에 대한 알고리즘은 아래와 같다. 

- `result[i][j] = sum{k = 0 to len(cols[A])} A[i][k] * B[k][j]`


### 의사 코드
```text
solution(matrix, k):
    만약 k == 1이면:
        각 원소를 1000으로 나눈 나머지를 구함
    그렇지 않으면:
        k를 절반으로 나누어 재귀 호출하여 half 계산
        k가 짝수이면: multiplication(half, half) 호출
        k가 홀수이면: multiplication(multiplication(half, half), matrix) 호출

multiplication(A, B):
    행렬 A와 B를 곱하여 새로운 행렬 result 계산
    각 원소는 1000으로 나눈 나머지를 저장
```

### URL
- [행렬 제곱](https://www.acmicpc.net/problem/10830)